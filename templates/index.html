<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚äï –†—É–∫–∞ –ì—Ä–æ—Ö–∞ ‚äï</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    
    <!-- Leaflet –¥–ª—è –Ω–∞—Å—Ç–æ—è—â–µ–π –∫–∞—Ä—Ç—ã -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body>
    <!-- SVG —Ñ–∏–ª—å—Ç—Ä –¥–ª—è –≤–æ–ª–Ω–æ–≤–æ–π –¥–µ—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Ñ–ª–∞–≥–∞ -->
    <svg style="position: absolute; width: 0; height: 0;">
        <defs>
            <filter id="wavy">
                <feTurbulence id="turbulence" type="fractalNoise" baseFrequency="0.02 0.05" numOctaves="2" result="turbulence">
                    <animate attributeName="baseFrequency" dur="3s" values="0.02 0.06;0.02 0.03;0.02 0.06" repeatCount="indefinite"/>
                </feTurbulence>
                <feDisplacementMap in="SourceGraphic" in2="turbulence" scale="8" xChannelSelector="R" yChannelSelector="G"/>
            </filter>
            <filter id="wavySmall">
                <feTurbulence type="fractalNoise" baseFrequency="0.015 0.04" numOctaves="2" result="turbulence">
                    <animate attributeName="baseFrequency" dur="2.5s" values="0.015 0.05;0.015 0.025;0.015 0.05" repeatCount="indefinite"/>
                </feTurbulence>
                <feDisplacementMap in="SourceGraphic" in2="turbulence" scale="5" xChannelSelector="R" yChannelSelector="G"/>
            </filter>
        </defs>
    </svg>

    <div class="blood-drip"></div>
    <div class="noise"></div>
    <div class="vignette"></div>
    
    <!-- –ñ—É—Ç–∫–∏–µ –æ–±—Ä–∞–∑—ã –Ω–∞ —Ñ–æ–Ω–µ -->
    <div class="haunting-figures" id="haunting-figures"></div>
    
    <!-- –ü–ª–∞–≤–∞—é—â–∏–µ –ª–æ–≥–æ—Ç–∏–ø—ã –Ω–∞ —Ñ–æ–Ω–µ -->
    <div class="floating-logos" id="floating-logos"></div>
    
    <!-- –ó–æ–ª–æ—Ç—ã–µ —á–∞—Å—Ç–∏—Ü—ã -->
    <div class="gold-particles" id="gold-particles"></div>
    
    <!-- –ó–æ–ª–æ—Ç–æ–π –∫–æ–¥–æ–≤—ã–π –∑–∞–º–æ–∫ -->
    <div class="lock-screen" id="lock-screen">
        <div class="lock-container">
            <div class="lock-symbol">üîê</div>
            <h1 class="lock-title">–í–†–ê–¢–ê –ò–ó–û–ë–ò–õ–ò–Ø</h1>
            <p class="lock-subtitle">–í–≤–µ–¥–∏ —Å–≤—è—â–µ–Ω–Ω—ã–π –∫–æ–¥</p>
            
            <div class="code-lock">
                <div class="digit-container">
                    <button class="digit-btn up" onclick="changeDigit(0, 1)">‚ñ≤</button>
                    <div class="digit-display" id="digit-0">0</div>
                    <button class="digit-btn down" onclick="changeDigit(0, -1)">‚ñº</button>
                </div>
                <div class="digit-container">
                    <button class="digit-btn up" onclick="changeDigit(1, 1)">‚ñ≤</button>
                    <div class="digit-display" id="digit-1">0</div>
                    <button class="digit-btn down" onclick="changeDigit(1, -1)">‚ñº</button>
                </div>
                <div class="digit-container">
                    <button class="digit-btn up" onclick="changeDigit(2, 1)">‚ñ≤</button>
                    <div class="digit-display" id="digit-2">0</div>
                    <button class="digit-btn down" onclick="changeDigit(2, -1)">‚ñº</button>
                </div>
                <div class="digit-container">
                    <button class="digit-btn up" onclick="changeDigit(3, 1)">‚ñ≤</button>
                    <div class="digit-display" id="digit-3">0</div>
                    <button class="digit-btn down" onclick="changeDigit(3, -1)">‚ñº</button>
                </div>
            </div>
            
            <button class="unlock-btn" onclick="checkCode()">‚äï –û–¢–ö–†–´–¢–¨ –í–†–ê–¢–ê ‚äï</button>
            <div class="lock-error" id="lock-error"></div>
        </div>
    </div>
    
    <div class="container" id="main-container" style="display: none;">
        <div class="cult-symbol">
            <div class="cult-logo">
                <img src="{{ url_for('static', filename='–§–ª–∞–≥ –ß–µ—á–µ–≤—É—Ä—ã PDF.png') }}" alt="–§–ª–∞–≥ –†—É–∫–∏ –ì—Ä–æ—Ö–∞">
            </div>
        </div>

        <h1 class="title">–†—É–∫–∞ –ì—Ä–æ—Ö–∞</h1>
        
        <div class="mantra">
            <span class="mantra-wheel mantra-wheel-left">
                <svg viewBox="0 0 100 100">
                    <circle cx="50" cy="50" r="45" fill="none" stroke="currentColor" stroke-width="2"/>
                    <circle cx="50" cy="50" r="8" fill="currentColor"/>
                    <line x1="50" y1="50" x2="50" y2="8" stroke="currentColor" stroke-width="2"/>
                    <line x1="50" y1="50" x2="79" y2="21" stroke="currentColor" stroke-width="2"/>
                    <line x1="50" y1="50" x2="92" y2="50" stroke="currentColor" stroke-width="2"/>
                    <line x1="50" y1="50" x2="79" y2="79" stroke="currentColor" stroke-width="2"/>
                    <line x1="50" y1="50" x2="50" y2="92" stroke="currentColor" stroke-width="2"/>
                    <line x1="50" y1="50" x2="21" y2="79" stroke="currentColor" stroke-width="2"/>
                    <line x1="50" y1="50" x2="8" y2="50" stroke="currentColor" stroke-width="2"/>
                    <line x1="50" y1="50" x2="21" y2="21" stroke="currentColor" stroke-width="2"/>
                    <circle cx="50" cy="50" r="25" fill="none" stroke="currentColor" stroke-width="2"/>
                </svg>
            </span>
            –û–¢–™–ï–ë–ò–°–¨ –ù–ò–©–ï–¢–ê
            <span class="mantra-wheel mantra-wheel-right">
                <svg viewBox="0 0 100 100">
                    <circle cx="50" cy="50" r="45" fill="none" stroke="currentColor" stroke-width="2"/>
                    <circle cx="50" cy="50" r="8" fill="currentColor"/>
                    <line x1="50" y1="50" x2="50" y2="8" stroke="currentColor" stroke-width="2"/>
                    <line x1="50" y1="50" x2="79" y2="21" stroke="currentColor" stroke-width="2"/>
                    <line x1="50" y1="50" x2="92" y2="50" stroke="currentColor" stroke-width="2"/>
                    <line x1="50" y1="50" x2="79" y2="79" stroke="currentColor" stroke-width="2"/>
                    <line x1="50" y1="50" x2="50" y2="92" stroke="currentColor" stroke-width="2"/>
                    <line x1="50" y1="50" x2="21" y2="79" stroke="currentColor" stroke-width="2"/>
                    <line x1="50" y1="50" x2="8" y2="50" stroke="currentColor" stroke-width="2"/>
                    <line x1="50" y1="50" x2="21" y2="21" stroke="currentColor" stroke-width="2"/>
                    <circle cx="50" cy="50" r="25" fill="none" stroke="currentColor" stroke-width="2"/>
                </svg>
            </span>
        </div>
        
        <div class="warning">
            <p>–¢—ã —Å—Ç—É–ø–∏–ª –Ω–∞ –ø—É—Ç—å –ø—Ä–æ—Å–≤–µ—Ç–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ –∫—Ä–æ–≤—å –∏ –∫–∞–ø–∏—Ç–∞–ª...</p>
            <p>–ß—Ç–æ–±—ã –ø–æ–∑–Ω–∞—Ç—å –∏—Å—Ç–∏–Ω–Ω—É—é –ø—Ä–∏—Ä–æ–¥—É –∏–∑–æ–±–∏–ª–∏—è, —Ä–∞–∑–≥–∞–¥–∞–π –¥—Ä–µ–≤–Ω—é—é –º—É–¥—Ä–æ—Å—Ç—å</p>
        </div>

        <div class="quest-container">
            <h2>‚ò∏ –†–∞–∑–≥–∞–¥–∞–π –∫–æ–∞–Ω –∏–∑–æ–±–∏–ª–∏—è ‚ò∏</h2>
            <div class="riddle" id="riddle-container">
                <!-- –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ API -->
            </div>

            <div class="input-container">
                <input type="text" id="answer" placeholder="–í–≤–µ–¥–∏ –æ—Ç–≤–µ—Ç..." autocomplete="off">
                <button id="submit-btn" onclick="checkAnswer()">–ü–æ—Å—Ç–∏—á—å –∏—Å—Ç–∏–Ω—É</button>
            </div>

            <div id="error-message" class="error-message"></div>
        </div>

        <div id="secret-section" class="secret-section hidden">
            <h2 class="revealed-title">‚ú¶ –ü–£–¢–¨ –ö –•–†–ê–ú–£ –ì–†–û–•–ê ‚ú¶</h2>
            <p class="map-instruction">–°–ª–µ–¥—É–π –∑–∞ –∑–æ–ª–æ—Ç–æ–º, –∏ –æ–±—Ä–µ—Ç—ë—à—å –•—Ä–∞–º</p>
            
            <div class="treasure-map-container">
                <div id="real-map" class="real-map-wrapper"></div>
            </div>
            
            <div class="map-coordinates" id="map-coordinates">
                <!-- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
            
            <p class="secret-text">–¢—ã –ø–æ—Å—Ç–∏–≥ —Å—É—Ç—å –∑–æ–ª–æ—Ç–∞. –°–ª–µ–¥—É–π –∑–∞ –∫–∞—Ä—Ç–æ–π –∏ –æ–±—Ä–µ—Ç—ë—à—å –•—Ä–∞–º –ì—Ä–æ—Ö–∞!</p>
            <div class="mantra-final">
                <span class="mantra-wheel-final mantra-wheel-final-left">
                    <svg viewBox="0 0 100 100">
                        <circle cx="50" cy="50" r="45" fill="none" stroke="currentColor" stroke-width="2"/>
                        <circle cx="50" cy="50" r="8" fill="currentColor"/>
                        <line x1="50" y1="50" x2="50" y2="8" stroke="currentColor" stroke-width="2"/>
                        <line x1="50" y1="50" x2="79" y2="21" stroke="currentColor" stroke-width="2"/>
                        <line x1="50" y1="50" x2="92" y2="50" stroke="currentColor" stroke-width="2"/>
                        <line x1="50" y1="50" x2="79" y2="79" stroke="currentColor" stroke-width="2"/>
                        <line x1="50" y1="50" x2="50" y2="92" stroke="currentColor" stroke-width="2"/>
                        <line x1="50" y1="50" x2="21" y2="79" stroke="currentColor" stroke-width="2"/>
                        <line x1="50" y1="50" x2="8" y2="50" stroke="currentColor" stroke-width="2"/>
                        <line x1="50" y1="50" x2="21" y2="21" stroke="currentColor" stroke-width="2"/>
                        <circle cx="50" cy="50" r="25" fill="none" stroke="currentColor" stroke-width="2"/>
                    </svg>
                </span>
                –û–¢–™–ï–ë–ò–°–¨ –ù–ò–©–ï–¢–ê
                <span class="mantra-wheel-final mantra-wheel-final-right">
                    <svg viewBox="0 0 100 100">
                        <circle cx="50" cy="50" r="45" fill="none" stroke="currentColor" stroke-width="2"/>
                        <circle cx="50" cy="50" r="8" fill="currentColor"/>
                        <line x1="50" y1="50" x2="50" y2="8" stroke="currentColor" stroke-width="2"/>
                        <line x1="50" y1="50" x2="79" y2="21" stroke="currentColor" stroke-width="2"/>
                        <line x1="50" y1="50" x2="92" y2="50" stroke="currentColor" stroke-width="2"/>
                        <line x1="50" y1="50" x2="79" y2="79" stroke="currentColor" stroke-width="2"/>
                        <line x1="50" y1="50" x2="50" y2="92" stroke="currentColor" stroke-width="2"/>
                        <line x1="50" y1="50" x2="21" y2="79" stroke="currentColor" stroke-width="2"/>
                        <line x1="50" y1="50" x2="8" y2="50" stroke="currentColor" stroke-width="2"/>
                        <line x1="50" y1="50" x2="21" y2="21" stroke="currentColor" stroke-width="2"/>
                        <circle cx="50" cy="50" r="25" fill="none" stroke="currentColor" stroke-width="2"/>
                    </svg>
                </span>
            </div>
            <div class="final-symbol">‚ò∏</div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>

